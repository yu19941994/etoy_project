{"version":3,"sources":["webpack:///./src/views/front/Checkout.vue?0fba","webpack:///src/views/front/Checkout.vue","webpack:///./src/views/front/Checkout.vue?f386","webpack:///./src/views/front/Checkout.vue","webpack:///./node_modules/core-js/modules/es.array.concat.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_l","carts","item","key","id","on","$event","preventDefault","removeCartItem","_s","product","title","qty","unit","_f","total","final_total","_e","directives","name","rawName","value","expression","attrs","domProps","target","composing","coupon_code","addCoupon","scopedSlots","_u","fn","ref","handleSubmit","createOrder","errors","form","user","class","$set","staticRenderFns","data","email","tel","address","message","methods","getCart","vm","$http","get","api","then","response","delete","code","post","success","$router","push","created","component","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","proto","forced","arg","i","k","length","len","E","A","n","arguments","TypeError"],"mappings":"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","file":"js/chunk-34c162cd.ceb645e8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container my-md-5\"},[_c('div',{staticClass:\"row flex-row-reverse\"},[_c('div',{staticClass:\"col-md-6\"},[_c('ul',{staticClass:\"list-group list-group-flush checkoutdetail\"},[_c('li',{staticClass:\"list-group-item bg-third h4 text-secondary\"},[_vm._v(\"購物清單\")]),_c('li',{staticClass:\"list-group-item\"},[_c('div',{staticClass:\"d-flex table mb-0\"},[_c('table',{staticClass:\"table mb-0 table-borderless\"},[_c('tbody',_vm._l((_vm.carts.carts),function(item){return _c('tr',{key:item.id},[_c('td',{on:{\"click\":function($event){$event.preventDefault();return _vm.removeCartItem(item.id)}}},[_c('i',{staticClass:\"fas fa-trash-alt pr-1\"})]),_c('td',[_vm._v(_vm._s(item.product.title))]),_c('td',[_vm._v(_vm._s(item.qty)),_c('span',[_vm._v(_vm._s(item.product.unit))])]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.total)))])])}),0)])])]),_c('li',{staticClass:\"list-group-item\"},[_c('p',{staticClass:\"text-primary text-right h5\"},[_c('b',[_vm._v(\"總計:\"+_vm._s(_vm._f(\"currency\")(_vm.carts.total)))])]),(_vm.carts.final_total !== _vm.carts.total)?_c('p',{staticClass:\"text-fifth text-right h5\"},[_c('b',[_vm._v(\"折扣價:\"+_vm._s(_vm._f(\"currency\")(_vm.carts.final_total)))])]):_vm._e()])]),_c('div',{staticClass:\"checkoutdetail my-3 p-2\"},[_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_code),expression:\"coupon_code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"輸入優惠券代碼\"},domProps:{\"value\":(_vm.coupon_code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coupon_code=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('span',{staticClass:\"input-group-text bg-third text-muted\",attrs:{\"id\":\"basic-addon2\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addCoupon($event)}}},[_vm._v(\"使用優惠券\")])])])])]),_c('ValidationObserver',{staticClass:\"col-md-6\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('form',{staticClass:\"bg-primary px-4 py-4 text-forth\",on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.createOrder)}}},[_c('p',{staticClass:\"h1\"},[_vm._v(\"資料\")]),_c('div',{staticClass:\"row \"},[_c('div',{staticClass:\"form-group col\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"姓名\")]),_c('ValidationProvider',{attrs:{\"rules\":\"required\",\"name\":\"name\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"}],staticClass:\"form-control\",class:{ 'is-invalid': errors[0] },attrs:{\"type\":\"text\",\"id\":\"username\",\"placeholder\":\"輸入姓名\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1),_c('div',{staticClass:\"form-group col\"},[_c('label',{attrs:{\"for\":\"usertel\"}},[_vm._v(\"電話\")]),_c('ValidationProvider',{attrs:{\"rules\":\"required|numeric|min:8|max:10\",\"name\":\"Email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"}],staticClass:\"form-control\",class:{ 'is-invalid': errors[0] },attrs:{\"type\":\"tel\",\"id\":\"usertel\",\"placeholder\":\"請輸入電話\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"useremail\"}},[_vm._v(\"Email\")]),_c('ValidationProvider',{attrs:{\"rules\":\"required|email\",\"name\":\"email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"}],staticClass:\"form-control\",class:{ 'is-invalid': errors[0] },attrs:{\"type\":\"email\",\"id\":\"useremail\",\"placeholder\":\"請輸入 Email\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"useraddress\"}},[_vm._v(\"收件地址\")]),_c('ValidationProvider',{attrs:{\"rules\":\"required\",\"name\":\"address\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"}],staticClass:\"form-control\",class:{ 'is-invalid': errors[0] },attrs:{\"type\":\"text\",\"id\":\"useraddress\",\"placeholder\":\"請輸入地址\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"exampleFormControlTextarea1\"}},[_vm._v(\"備註（選填）\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"id\":\"exampleFormControlTextarea1\",\"rows\":\"3\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_c('div',{staticClass:\"btn-group w-100 mt-2\",attrs:{\"role\":\"group\"}},[_c('router-link',{staticClass:\"btn btn-forth btn-checkout rounded-0 text-primary btn-lg\",attrs:{\"to\":\"/customerorders\",\"type\":\"button\"}},[_c('b',[_vm._v(\"返回購物\")])]),_c('button',{staticClass:\"btn btn-forth btn-checkout rounded-0 text-primary btn-lg\",attrs:{\"type\":\"submit\"}},[_c('b',[_vm._v(\"金流付款\")])])],1)])]}}])})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"container my-md-5\">\n      <div class=\"row flex-row-reverse\">\n        <!-- 右邊購物明細 -->\n        <div class=\"col-md-6\">\n          <!--明細-->\n          <ul class=\"list-group list-group-flush checkoutdetail\">\n            <li class=\"list-group-item bg-third h4 text-secondary\">購物清單</li>\n            <li class=\"list-group-item\">\n              <div class=\"d-flex table mb-0\">\n                <table class=\"table mb-0 table-borderless\">\n                  <tbody>\n                    <tr v-for=\"item in carts.carts\" :key=\"item.id\">\n                      <td @click.prevent=\"removeCartItem(item.id)\"><i class=\"fas fa-trash-alt pr-1\"></i></td>\n                      <td>{{ item.product.title }}</td>\n                      <td>{{ item.qty }}<span>{{ item.product.unit }}</span></td>\n                      <td class=\"text-right\">{{ item.total|currency }}</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </li>\n            <li class=\"list-group-item\">\n              <p class=\"text-primary text-right h5\"><b>總計:{{ carts.total|currency }}</b></p>\n              <p  v-if=\"carts.final_total !== carts.total\" class=\"text-fifth text-right h5\"><b>折扣價:{{ carts.final_total|currency }}</b></p>\n            </li>\n          </ul>\n\n          <!-- 按鈕 -->\n          <div class=\"checkoutdetail my-3 p-2\">\n            <div class=\"input-group\">\n              <input type=\"text\" class=\"form-control\" placeholder=\"輸入優惠券代碼\" v-model=\"coupon_code\">\n              <div class=\"input-group-append\">\n                <span class=\"input-group-text bg-third text-muted\" id=\"basic-addon2\" @click.prevent=\"addCoupon\">使用優惠券</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <!-- 左邊表格 -->\n        <ValidationObserver class=\"col-md-6\" v-slot=\"{ handleSubmit }\">\n          <form class=\"bg-primary px-4 py-4 text-forth\" @submit.prevent=\"handleSubmit(createOrder)\">\n            <p class=\"h1\">資料</p>\n            <div class=\"row \">\n              <div class=\"form-group col\">\n                <label for=\"username\">姓名</label>\n                <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" name=\"name\">\n                    <input type=\"text\" class=\"form-control\" id=\"username\"\n                    v-model=\"form.user.name\" placeholder=\"輸入姓名\"\n                    :class=\"{ 'is-invalid': errors[0] }\">\n                    <span class=\"text-danger\">{{ errors[0] }}</span>\n                </ValidationProvider>\n              </div>\n              <div class=\"form-group col\">\n                <label for=\"usertel\">電話</label>\n                <ValidationProvider rules=\"required|numeric|min:8|max:10\" v-slot=\"{ errors }\" name=\"Email\">\n                  <input type=\"tel\" class=\"form-control\" id=\"usertel\"\n                  v-model=\"form.user.tel\" placeholder=\"請輸入電話\"\n                  :class=\"{ 'is-invalid': errors[0] }\">\n                  <span class=\"text-danger\">{{ errors[0] }}</span>\n                </ValidationProvider>\n              </div>\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"useremail\">Email</label>\n              <ValidationProvider rules=\"required|email\" v-slot=\"{ errors }\" name=\"email\">\n                <input type=\"email\" class=\"form-control\" id=\"useremail\"\n                v-model=\"form.user.email\" placeholder=\"請輸入 Email\"\n                :class=\"{ 'is-invalid': errors[0] }\">\n                <span class=\"text-danger\">{{ errors[0] }}</span>\n              </ValidationProvider>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"useraddress\">收件地址</label>\n              <ValidationProvider rules=\"required\" v-slot=\"{ errors }\" name=\"address\">\n                <input type=\"text\" class=\"form-control\" id=\"useraddress\"\n                v-model=\"form.user.address\" placeholder=\"請輸入地址\"\n                :class=\"{ 'is-invalid': errors[0] }\">\n                <span class=\"text-danger\">{{ errors[0] }}</span>\n              </ValidationProvider>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"exampleFormControlTextarea1\">備註（選填）</label>\n              <textarea class=\"form-control\" id=\"exampleFormControlTextarea1\"\n                v-model=\"form.message\" rows=\"3\"></textarea>\n            </div>\n            <div class=\"btn-group w-100 mt-2\" role=\"group\">\n              <router-link  :to=\"`/customerorders`\" type=\"button\" class=\"btn btn-forth btn-checkout rounded-0 text-primary btn-lg\"><b>返回購物</b></router-link>\n              <button type=\"submit\" class=\"btn btn-forth btn-checkout rounded-0 text-primary btn-lg\"><b>金流付款</b></button>\n            </div>\n          </form>\n        </ValidationObserver>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      carts: { carts: [] },\n      coupon_code: '',\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: ''\n        },\n        message: ''\n      }\n    }\n  },\n  methods: {\n    getCart () {\n      const vm = this\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`\n      vm.$http.get(api).then((response) => {\n        vm.carts = response.data.data\n      })\n    },\n    removeCartItem (id) {\n      const vm = this\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOMPATH}/cart/${id}`\n      vm.$http.delete(api).then((response) => {\n        vm.getCart()\n      })\n    },\n    addCoupon () {\n      const vm = this\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOMPATH}/coupon`\n      const coupon = {\n        code: vm.coupon_code\n      }\n      vm.$http.post(api, { data: coupon }).then((response) => {\n        vm.getCart()\n      })\n    },\n    createOrder () {\n      const vm = this\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOMPATH}/order`\n      const order = vm.form\n      vm.$http.post(api, { data: order }).then((response) => {\n        if (response.data.success) {\n          vm.$router.push(`/pay/${response.data.orderId}`)\n        }\n      })\n    }\n  },\n  created () {\n    this.getCart()\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Checkout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Checkout.vue?vue&type=template&id=f0f3d620&\"\nimport script from \"./Checkout.vue?vue&type=script&lang=js&\"\nexport * from \"./Checkout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n"],"sourceRoot":""}